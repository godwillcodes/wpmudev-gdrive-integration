(()=>{var e={20:(e,s,r)=>{"use strict";var t=r(609),i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,s,r){var t,n={},c=null,d=null;for(t in void 0!==r&&(c=""+r),void 0!==s.key&&(c=""+s.key),void 0!==s.ref&&(d=s.ref),s)o.call(s,t)&&!l.hasOwnProperty(t)&&(n[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===n[t]&&(n[t]=s[t]);return{$$typeof:i,type:e,key:c,ref:d,props:n,_owner:a.current}}s.Fragment=n,s.jsx=c,s.jsxs=c},56:(e,s,r)=>{"use strict";e.exports=function(e){var s=r.nc;s&&e.setAttribute("nonce",s)}},72:e=>{"use strict";var s=[];function r(e){for(var r=-1,t=0;t<s.length;t++)if(s[t].identifier===e){r=t;break}return r}function t(e,t){for(var n={},o=[],a=0;a<e.length;a++){var l=e[a],c=t.base?l[0]+t.base:l[0],d=n[c]||0,u="".concat(c," ").concat(d);n[c]=d+1;var h=r(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)s[h].references++,s[h].updater(p);else{var x=i(p,t);t.byIndex=a,s.splice(a,0,{identifier:u,updater:x,references:1})}o.push(u)}return o}function i(e,s){var r=s.domAPI(s);r.update(e);return function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap&&s.supports===e.supports&&s.layer===e.layer)return;r.update(e=s)}else r.remove()}}e.exports=function(e,i){var n=t(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<n.length;o++){var a=r(n[o]);s[a].references--}for(var l=t(e,i),c=0;c<n.length;c++){var d=r(n[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}n=l}}},113:e=>{"use strict";e.exports=function(e,s){if(s.styleSheet)s.styleSheet.cssText=e;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(e))}}},540:e=>{"use strict";e.exports=function(e){var s=document.createElement("style");return e.setAttributes(s,e.attributes),e.insert(s,e.options),s}},609:e=>{"use strict";e.exports=window.React},659:e=>{"use strict";var s={};e.exports=function(e,r){var t=function(e){if(void 0===s[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}s[e]=r}return s[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},673:()=>{},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var s=e.insertStyleElement(e);return{update:function(r){!function(e,s,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,i&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var n=r.sourceMap;n&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),s.styleTagTransform(t,e,s.options)}(s,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)}}}},848:(e,s,r)=>{"use strict";e.exports=r(20)}},s={};function r(t){var i=s[t];if(void 0!==i)return i.exports;var n=s[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return r.d(s,{a:s}),s},r.d=(e,s)=>{for(var t in s)r.o(s,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},r.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),r.nc=void 0,(()=>{"use strict";const e=window.wp.element,s=window.wp.components;var t=r(72),i=r.n(t),n=r(825),o=r.n(n),a=r(659),l=r.n(a),c=r(56),d=r.n(c),u=r(540),h=r.n(u),p=r(113),x=r.n(p),m=r(673),v=r.n(m),f={};f.styleTagTransform=x(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=h();i()(v(),f);v()&&v().locals&&v().locals;var j=r(848);function b(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);s&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,t)}return r}function g(e){for(var s=1;s<arguments.length;s++){var r=null!=arguments[s]?arguments[s]:{};s%2?b(Object(r),!0).forEach(function(s){y(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function y(e,s,r){return(s=function(e){var s=function(e,s){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,s||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==typeof s?s:s+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}const w=document.getElementById(window.wpmudevDriveTest.dom_element_id),N=()=>{const[r,t]=(0,e.useState)(window.wpmudevDriveTest.authStatus||!1),[i,n]=(0,e.useState)(window.wpmudevDriveTest.hasCredentials||!1),[o,a]=(0,e.useState)(!window.wpmudevDriveTest.hasCredentials),[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)([]),[h,p]=(0,e.useState)(null),[x,m]=(0,e.useState)(""),[v,f]=(0,e.useState)({message:"",type:""}),[b,y]=(0,e.useState)({clientId:"",clientSecret:""});(0,e.useEffect)(()=>{},[r]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"sui-header",children:[(0,j.jsx)("h1",{className:"sui-header-title",children:"Google Drive Test"}),(0,j.jsx)("p",{className:"sui-description",children:"Test Google Drive API integration for applicant assessment"})]}),v.message&&(0,j.jsx)(s.Notice,{status:v.type,isDismissible:!0,onRemove:"",children:v.message}),o?(0,j.jsxs)("div",{className:"sui-box",children:[(0,j.jsx)("div",{className:"sui-box-header",children:(0,j.jsx)("h2",{className:"sui-box-title",children:"Set Google Drive Credentials"})}),(0,j.jsxs)("div",{className:"sui-box-body",children:[(0,j.jsx)("div",{className:"sui-box-settings-row",children:(0,j.jsx)(s.TextControl,{help:(0,e.createInterpolateElement)("You can get Client ID from <a>Google Cloud Console</a>. Make sure to enable Google Drive API.",{a:(0,j.jsx)("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer"})}),label:"Client ID",value:b.clientId,onChange:e=>y(g(g({},b),{},{clientId:e}))})}),(0,j.jsx)("div",{className:"sui-box-settings-row",children:(0,j.jsx)(s.TextControl,{help:(0,e.createInterpolateElement)("You can get Client Secret from <a>Google Cloud Console</a>.",{a:(0,j.jsx)("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer"})}),label:"Client Secret",value:b.clientSecret,onChange:e=>y(g(g({},b),{},{clientSecret:e})),type:"password"})}),(0,j.jsx)("div",{className:"sui-box-settings-row",children:(0,j.jsxs)("span",{children:["Please use this URL ",(0,j.jsx)("em",{children:window.wpmudevDriveTest.redirectUri})," in your Google API's ",(0,j.jsx)("strong",{children:"Authorized redirect URIs"})," field."]})}),(0,j.jsxs)("div",{className:"sui-box-settings-row",children:[(0,j.jsx)("p",{children:(0,j.jsx)("strong",{children:"Required scopes for Google Drive API:"})}),(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:"https://www.googleapis.com/auth/drive.file"}),(0,j.jsx)("li",{children:"https://www.googleapis.com/auth/drive.readonly"})]})]})]}),(0,j.jsx)("div",{className:"sui-box-footer",children:(0,j.jsx)("div",{className:"sui-actions-right",children:(0,j.jsx)(s.Button,{variant:"primary",onClick:async()=>{},disabled:l,children:l?(0,j.jsx)(s.Spinner,{}):"Save Credentials"})})})]}):r?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"sui-box",children:[(0,j.jsx)("div",{className:"sui-box-header",children:(0,j.jsx)("h2",{className:"sui-box-title",children:"Upload File to Drive"})}),(0,j.jsx)("div",{className:"sui-box-body",children:(0,j.jsxs)("div",{className:"sui-box-settings-row",children:[(0,j.jsx)("input",{type:"file",onChange:e=>p(e.target.files[0]),className:"drive-file-input"}),h&&(0,j.jsxs)("p",{children:[(0,j.jsx)("strong",{children:"Selected:"})," ",h.name," (",Math.round(h.size/1024)," KB)"]})]})}),(0,j.jsx)("div",{className:"sui-box-footer",children:(0,j.jsx)("div",{className:"sui-actions-right",children:(0,j.jsx)(s.Button,{variant:"primary",onClick:async()=>{},disabled:l||!h,children:l?(0,j.jsx)(s.Spinner,{}):"Upload to Drive"})})})]}),(0,j.jsxs)("div",{className:"sui-box",children:[(0,j.jsx)("div",{className:"sui-box-header",children:(0,j.jsx)("h2",{className:"sui-box-title",children:"Create New Folder"})}),(0,j.jsx)("div",{className:"sui-box-body",children:(0,j.jsx)("div",{className:"sui-box-settings-row",children:(0,j.jsx)(s.TextControl,{label:"Folder Name",value:x,onChange:m,placeholder:"Enter folder name"})})}),(0,j.jsx)("div",{className:"sui-box-footer",children:(0,j.jsx)("div",{className:"sui-actions-right",children:(0,j.jsx)(s.Button,{variant:"secondary",onClick:async()=>{},disabled:l||!x.trim(),children:l?(0,j.jsx)(s.Spinner,{}):"Create Folder"})})})]}),(0,j.jsxs)("div",{className:"sui-box",children:[(0,j.jsxs)("div",{className:"sui-box-header",children:[(0,j.jsx)("h2",{className:"sui-box-title",children:"Your Drive Files"}),(0,j.jsx)("div",{className:"sui-actions-right",children:(0,j.jsx)(s.Button,{variant:"secondary",onClick:async()=>{},disabled:l,children:l?(0,j.jsx)(s.Spinner,{}):"Refresh Files"})})]}),(0,j.jsx)("div",{className:"sui-box-body",children:l?(0,j.jsxs)("div",{className:"drive-loading",children:[(0,j.jsx)(s.Spinner,{}),(0,j.jsx)("p",{children:"Loading files..."})]}):d.length>0?(0,j.jsx)("div",{className:"drive-files-grid",children:d.map(e=>(0,j.jsxs)("div",{className:"drive-file-item",children:[(0,j.jsxs)("div",{className:"file-info",children:[(0,j.jsx)("strong",{children:e.name}),(0,j.jsx)("small",{children:e.modifiedTime?new Date(e.modifiedTime).toLocaleDateString():"Unknown date"})]}),(0,j.jsx)("div",{className:"file-actions",children:e.webViewLink&&(0,j.jsx)(s.Button,{variant:"link",size:"small",href:"",target:"_blank",children:"View in Drive"})})]},e.id))}):(0,j.jsx)("div",{className:"sui-box-settings-row",children:(0,j.jsx)("p",{children:"No files found in your Drive. Upload a file or create a folder to get started."})})})]})]}):(0,j.jsxs)("div",{className:"sui-box",children:[(0,j.jsx)("div",{className:"sui-box-header",children:(0,j.jsx)("h2",{className:"sui-box-title",children:"Authenticate with Google Drive"})}),(0,j.jsx)("div",{className:"sui-box-body",children:(0,j.jsxs)("div",{className:"sui-box-settings-row",children:[(0,j.jsx)("p",{children:"Please authenticate with Google Drive to proceed with the test."}),(0,j.jsx)("p",{children:(0,j.jsx)("strong",{children:"This test will require the following permissions:"})}),(0,j.jsxs)("ul",{children:[(0,j.jsx)("li",{children:"View and manage Google Drive files"}),(0,j.jsx)("li",{children:"Upload new files to Drive"}),(0,j.jsx)("li",{children:"Create folders in Drive"})]})]})}),(0,j.jsxs)("div",{className:"sui-box-footer",children:[(0,j.jsx)("div",{className:"sui-actions-left",children:(0,j.jsx)(s.Button,{variant:"secondary",onClick:()=>a(!0),children:"Change Credentials"})}),(0,j.jsx)("div",{className:"sui-actions-right",children:(0,j.jsx)(s.Button,{variant:"primary",onClick:async()=>{},disabled:l,children:l?(0,j.jsx)(s.Spinner,{}):"Authenticate with Google Drive"})})]})]})]})};e.createRoot?(0,e.createRoot)(w).render((0,j.jsx)(e.StrictMode,{children:(0,j.jsx)(N,{})})):(0,e.render)((0,j.jsx)(e.StrictMode,{children:(0,j.jsx)(N,{})}),w)})()})();